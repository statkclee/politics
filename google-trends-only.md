# 데이터 과학자가 바라본 20대 총선



## 1. 구글 추세를 통해본 주요 대선후보

4월 1일부터 가장 최근 1개월 각 주요 대선후보별 추세를 보는 다음과 같다.


<!--html_preserve--><div id="htmlwidget-9e7e05d39058e80933fe" style="width:1152px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-9e7e05d39058e80933fe">{"x":{"data":[{"x":[1491004800000,1491091200000,1491177600000,1491264000000,1491350400000,1491436800000,1491523200000,1491609600000,1491696000000,1491782400000,1491868800000,1491955200000,1492041600000,1492128000000,1492214400000,1492300800000,1492387200000,1492473600000,1492560000000,1492646400000,1492732800000,1492819200000,1492905600000,1492992000000,1493078400000,1493164800000,1493251200000,1493337600000,1493424000000,1493510400000],"y":[29,33,50,47,51,56,37,32,48,45,50,46,50,57,47,56,88,100,97,79,82,87,84,74,84,97,76,75,70,73],"text":["date: 2017-04-01<br>hits: 29<br>keyword: 문재인","date: 2017-04-02<br>hits: 33<br>keyword: 문재인","date: 2017-04-03<br>hits: 50<br>keyword: 문재인","date: 2017-04-04<br>hits: 47<br>keyword: 문재인","date: 2017-04-05<br>hits: 51<br>keyword: 문재인","date: 2017-04-06<br>hits: 56<br>keyword: 문재인","date: 2017-04-07<br>hits: 37<br>keyword: 문재인","date: 2017-04-08<br>hits: 32<br>keyword: 문재인","date: 2017-04-09<br>hits: 48<br>keyword: 문재인","date: 2017-04-10<br>hits: 45<br>keyword: 문재인","date: 2017-04-11<br>hits: 50<br>keyword: 문재인","date: 2017-04-12<br>hits: 46<br>keyword: 문재인","date: 2017-04-13<br>hits: 50<br>keyword: 문재인","date: 2017-04-14<br>hits: 57<br>keyword: 문재인","date: 2017-04-15<br>hits: 47<br>keyword: 문재인","date: 2017-04-16<br>hits: 56<br>keyword: 문재인","date: 2017-04-17<br>hits: 88<br>keyword: 문재인","date: 2017-04-18<br>hits: 100<br>keyword: 문재인","date: 2017-04-19<br>hits: 97<br>keyword: 문재인","date: 2017-04-20<br>hits: 79<br>keyword: 문재인","date: 2017-04-21<br>hits: 82<br>keyword: 문재인","date: 2017-04-22<br>hits: 87<br>keyword: 문재인","date: 2017-04-23<br>hits: 84<br>keyword: 문재인","date: 2017-04-24<br>hits: 74<br>keyword: 문재인","date: 2017-04-25<br>hits: 84<br>keyword: 문재인","date: 2017-04-26<br>hits: 97<br>keyword: 문재인","date: 2017-04-27<br>hits: 76<br>keyword: 문재인","date: 2017-04-28<br>hits: 75<br>keyword: 문재인","date: 2017-04-29<br>hits: 70<br>keyword: 문재인","date: 2017-04-30<br>hits: 73<br>keyword: 문재인"],"key":null,"type":"scatter","mode":"lines","name":"문재인","line":{"width":1.88976377952756,"color":"rgba(6,92,232,1)","dash":"solid"},"hoveron":"points","legendgroup":"문재인","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text"},{"x":[1491004800000,1491091200000,1491177600000,1491264000000,1491350400000,1491436800000,1491523200000,1491609600000,1491696000000,1491782400000,1491868800000,1491955200000,1492041600000,1492128000000,1492214400000,1492300800000,1492387200000,1492473600000,1492560000000,1492646400000,1492732800000,1492819200000,1492905600000,1492992000000,1493078400000,1493164800000,1493251200000,1493337600000,1493424000000,1493510400000],"y":[13,6,5,11,15,20,14,7,9,11,8,8,45,36,22,25,46,44,100,82,49,30,95,42,78,69,71,90,76,47],"text":["date: 2017-04-01<br>hits: 13<br>keyword: 심상정","date: 2017-04-02<br>hits: 6<br>keyword: 심상정","date: 2017-04-03<br>hits: 5<br>keyword: 심상정","date: 2017-04-04<br>hits: 11<br>keyword: 심상정","date: 2017-04-05<br>hits: 15<br>keyword: 심상정","date: 2017-04-06<br>hits: 20<br>keyword: 심상정","date: 2017-04-07<br>hits: 14<br>keyword: 심상정","date: 2017-04-08<br>hits: 7<br>keyword: 심상정","date: 2017-04-09<br>hits: 9<br>keyword: 심상정","date: 2017-04-10<br>hits: 11<br>keyword: 심상정","date: 2017-04-11<br>hits: 8<br>keyword: 심상정","date: 2017-04-12<br>hits: 8<br>keyword: 심상정","date: 2017-04-13<br>hits: 45<br>keyword: 심상정","date: 2017-04-14<br>hits: 36<br>keyword: 심상정","date: 2017-04-15<br>hits: 22<br>keyword: 심상정","date: 2017-04-16<br>hits: 25<br>keyword: 심상정","date: 2017-04-17<br>hits: 46<br>keyword: 심상정","date: 2017-04-18<br>hits: 44<br>keyword: 심상정","date: 2017-04-19<br>hits: 100<br>keyword: 심상정","date: 2017-04-20<br>hits: 82<br>keyword: 심상정","date: 2017-04-21<br>hits: 49<br>keyword: 심상정","date: 2017-04-22<br>hits: 30<br>keyword: 심상정","date: 2017-04-23<br>hits: 95<br>keyword: 심상정","date: 2017-04-24<br>hits: 42<br>keyword: 심상정","date: 2017-04-25<br>hits: 78<br>keyword: 심상정","date: 2017-04-26<br>hits: 69<br>keyword: 심상정","date: 2017-04-27<br>hits: 71<br>keyword: 심상정","date: 2017-04-28<br>hits: 90<br>keyword: 심상정","date: 2017-04-29<br>hits: 76<br>keyword: 심상정","date: 2017-04-30<br>hits: 47<br>keyword: 심상정"],"key":null,"type":"scatter","mode":"lines","name":"심상정","line":{"width":1.88976377952756,"color":"rgba(242,238,9,1)","dash":"solid"},"hoveron":"points","legendgroup":"심상정","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text"},{"x":[1491004800000,1491091200000,1491177600000,1491264000000,1491350400000,1491436800000,1491523200000,1491609600000,1491696000000,1491782400000,1491868800000,1491955200000,1492041600000,1492128000000,1492214400000,1492300800000,1492387200000,1492473600000,1492560000000,1492646400000,1492732800000,1492819200000,1492905600000,1492992000000,1493078400000,1493164800000,1493251200000,1493337600000,1493424000000,1493510400000],"y":[30,34,36,57,69,100,85,56,84,78,76,63,72,80,54,64,100,69,71,58,47,48,75,70,63,44,42,53,38,44],"text":["date: 2017-04-01<br>hits: 30<br>keyword: 안철수","date: 2017-04-02<br>hits: 34<br>keyword: 안철수","date: 2017-04-03<br>hits: 36<br>keyword: 안철수","date: 2017-04-04<br>hits: 57<br>keyword: 안철수","date: 2017-04-05<br>hits: 69<br>keyword: 안철수","date: 2017-04-06<br>hits: 100<br>keyword: 안철수","date: 2017-04-07<br>hits: 85<br>keyword: 안철수","date: 2017-04-08<br>hits: 56<br>keyword: 안철수","date: 2017-04-09<br>hits: 84<br>keyword: 안철수","date: 2017-04-10<br>hits: 78<br>keyword: 안철수","date: 2017-04-11<br>hits: 76<br>keyword: 안철수","date: 2017-04-12<br>hits: 63<br>keyword: 안철수","date: 2017-04-13<br>hits: 72<br>keyword: 안철수","date: 2017-04-14<br>hits: 80<br>keyword: 안철수","date: 2017-04-15<br>hits: 54<br>keyword: 안철수","date: 2017-04-16<br>hits: 64<br>keyword: 안철수","date: 2017-04-17<br>hits: 100<br>keyword: 안철수","date: 2017-04-18<br>hits: 69<br>keyword: 안철수","date: 2017-04-19<br>hits: 71<br>keyword: 안철수","date: 2017-04-20<br>hits: 58<br>keyword: 안철수","date: 2017-04-21<br>hits: 47<br>keyword: 안철수","date: 2017-04-22<br>hits: 48<br>keyword: 안철수","date: 2017-04-23<br>hits: 75<br>keyword: 안철수","date: 2017-04-24<br>hits: 70<br>keyword: 안철수","date: 2017-04-25<br>hits: 63<br>keyword: 안철수","date: 2017-04-26<br>hits: 44<br>keyword: 안철수","date: 2017-04-27<br>hits: 42<br>keyword: 안철수","date: 2017-04-28<br>hits: 53<br>keyword: 안철수","date: 2017-04-29<br>hits: 38<br>keyword: 안철수","date: 2017-04-30<br>hits: 44<br>keyword: 안철수"],"key":null,"type":"scatter","mode":"lines","name":"안철수","line":{"width":1.88976377952756,"color":"rgba(7,249,31,1)","dash":"solid"},"hoveron":"points","legendgroup":"안철수","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text"},{"x":[1491004800000,1491091200000,1491177600000,1491264000000,1491350400000,1491436800000,1491523200000,1491609600000,1491696000000,1491782400000,1491868800000,1491955200000,1492041600000,1492128000000,1492214400000,1492300800000,1492387200000,1492473600000,1492560000000,1492646400000,1492732800000,1492819200000,1492905600000,1492992000000,1493078400000,1493164800000,1493251200000,1493337600000,1493424000000,1493510400000],"y":[11,11,12,18,18,16,15,15,8,22,15,18,62,69,53,41,57,43,90,89,51,59,100,85,93,65,57,78,75,61],"text":["date: 2017-04-01<br>hits: 11<br>keyword: 유승민","date: 2017-04-02<br>hits: 11<br>keyword: 유승민","date: 2017-04-03<br>hits: 12<br>keyword: 유승민","date: 2017-04-04<br>hits: 18<br>keyword: 유승민","date: 2017-04-05<br>hits: 18<br>keyword: 유승민","date: 2017-04-06<br>hits: 16<br>keyword: 유승민","date: 2017-04-07<br>hits: 15<br>keyword: 유승민","date: 2017-04-08<br>hits: 15<br>keyword: 유승민","date: 2017-04-09<br>hits: 8<br>keyword: 유승민","date: 2017-04-10<br>hits: 22<br>keyword: 유승민","date: 2017-04-11<br>hits: 15<br>keyword: 유승민","date: 2017-04-12<br>hits: 18<br>keyword: 유승민","date: 2017-04-13<br>hits: 62<br>keyword: 유승민","date: 2017-04-14<br>hits: 69<br>keyword: 유승민","date: 2017-04-15<br>hits: 53<br>keyword: 유승민","date: 2017-04-16<br>hits: 41<br>keyword: 유승민","date: 2017-04-17<br>hits: 57<br>keyword: 유승민","date: 2017-04-18<br>hits: 43<br>keyword: 유승민","date: 2017-04-19<br>hits: 90<br>keyword: 유승민","date: 2017-04-20<br>hits: 89<br>keyword: 유승민","date: 2017-04-21<br>hits: 51<br>keyword: 유승민","date: 2017-04-22<br>hits: 59<br>keyword: 유승민","date: 2017-04-23<br>hits: 100<br>keyword: 유승민","date: 2017-04-24<br>hits: 85<br>keyword: 유승민","date: 2017-04-25<br>hits: 93<br>keyword: 유승민","date: 2017-04-26<br>hits: 65<br>keyword: 유승민","date: 2017-04-27<br>hits: 57<br>keyword: 유승민","date: 2017-04-28<br>hits: 78<br>keyword: 유승민","date: 2017-04-29<br>hits: 75<br>keyword: 유승민","date: 2017-04-30<br>hits: 61<br>keyword: 유승민"],"key":null,"type":"scatter","mode":"lines","name":"유승민","line":{"width":1.88976377952756,"color":"rgba(0,250,255,1)","dash":"solid"},"hoveron":"points","legendgroup":"유승민","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text"},{"x":[1491004800000,1491091200000,1491177600000,1491264000000,1491350400000,1491436800000,1491523200000,1491609600000,1491696000000,1491782400000,1491868800000,1491955200000,1492041600000,1492128000000,1492214400000,1492300800000,1492387200000,1492473600000,1492560000000,1492646400000,1492732800000,1492819200000,1492905600000,1492992000000,1493078400000,1493164800000,1493251200000,1493337600000,1493424000000,1493510400000],"y":[25,16,16,44,69,31,22,18,20,26,19,17,35,38,23,24,37,33,50,51,62,53,100,58,77,82,73,74,69,72],"text":["date: 2017-04-01<br>hits: 25<br>keyword: 홍준표","date: 2017-04-02<br>hits: 16<br>keyword: 홍준표","date: 2017-04-03<br>hits: 16<br>keyword: 홍준표","date: 2017-04-04<br>hits: 44<br>keyword: 홍준표","date: 2017-04-05<br>hits: 69<br>keyword: 홍준표","date: 2017-04-06<br>hits: 31<br>keyword: 홍준표","date: 2017-04-07<br>hits: 22<br>keyword: 홍준표","date: 2017-04-08<br>hits: 18<br>keyword: 홍준표","date: 2017-04-09<br>hits: 20<br>keyword: 홍준표","date: 2017-04-10<br>hits: 26<br>keyword: 홍준표","date: 2017-04-11<br>hits: 19<br>keyword: 홍준표","date: 2017-04-12<br>hits: 17<br>keyword: 홍준표","date: 2017-04-13<br>hits: 35<br>keyword: 홍준표","date: 2017-04-14<br>hits: 38<br>keyword: 홍준표","date: 2017-04-15<br>hits: 23<br>keyword: 홍준표","date: 2017-04-16<br>hits: 24<br>keyword: 홍준표","date: 2017-04-17<br>hits: 37<br>keyword: 홍준표","date: 2017-04-18<br>hits: 33<br>keyword: 홍준표","date: 2017-04-19<br>hits: 50<br>keyword: 홍준표","date: 2017-04-20<br>hits: 51<br>keyword: 홍준표","date: 2017-04-21<br>hits: 62<br>keyword: 홍준표","date: 2017-04-22<br>hits: 53<br>keyword: 홍준표","date: 2017-04-23<br>hits: 100<br>keyword: 홍준표","date: 2017-04-24<br>hits: 58<br>keyword: 홍준표","date: 2017-04-25<br>hits: 77<br>keyword: 홍준표","date: 2017-04-26<br>hits: 82<br>keyword: 홍준표","date: 2017-04-27<br>hits: 73<br>keyword: 홍준표","date: 2017-04-28<br>hits: 74<br>keyword: 홍준표","date: 2017-04-29<br>hits: 69<br>keyword: 홍준표","date: 2017-04-30<br>hits: 72<br>keyword: 홍준표"],"key":null,"type":"scatter","mode":"lines","name":"홍준표","line":{"width":1.88976377952756,"color":"rgba(255,0,0,1)","dash":"solid"},"hoveron":"points","legendgroup":"홍준표","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text"},{"x":[1492560000000,1492560000000],"y":[-1.85,104.85],"text":"xintercept: 17275","key":null,"type":"scatter","mode":"lines","name":"","line":{"width":1.88976377952756,"color":"rgba(169,169,169,1)","dash":"dashdot"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text"},{"x":[1492905600000,1492905600000],"y":[-1.85,104.85],"text":"xintercept: 17279","key":null,"type":"scatter","mode":"lines","name":"","line":{"width":1.88976377952756,"color":"rgba(169,169,169,1)","dash":"dashdot"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text"},{"x":[1493078400000,1493078400000],"y":[-1.85,104.85],"text":"xintercept: 17281","key":null,"type":"scatter","mode":"lines","name":"","line":{"width":1.88976377952756,"color":"rgba(169,169,169,1)","dash":"dashdot"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text"},{"x":[1493337600000,1493337600000],"y":[-1.85,104.85],"text":"xintercept: 17284","key":null,"type":"scatter","mode":"lines","name":"","line":{"width":1.88976377952756,"color":"rgba(169,169,169,1)","dash":"dashdot"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text"},{"x":[1492560000000],"y":[3],"text":"KBS","key":null,"textfont":{"size":11.3385826771654,"color":"rgba(0,0,0,1)"},"type":"scatter","mode":"text","hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","name":""},{"x":[1492905600000],"y":[3],"text":"1차","key":null,"textfont":{"size":11.3385826771654,"color":"rgba(0,0,0,1)"},"type":"scatter","mode":"text","hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","name":""},{"x":[1493078400000],"y":[3],"text":"JTBC","key":null,"textfont":{"size":11.3385826771654,"color":"rgba(0,0,0,1)"},"type":"scatter","mode":"text","hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","name":""},{"x":[1493337600000],"y":[3],"text":"2차","key":null,"textfont":{"size":11.3385826771654,"color":"rgba(0,0,0,1)"},"type":"scatter","mode":"text","hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","name":""}],"layout":{"margin":{"t":51.0684931506849,"r":7.30593607305936,"b":31.1498547114985,"l":25.9028642590286},"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"title":"후보별 구글 뉴스검색 추세","titlefont":{"color":"rgba(0,0,0,1)","family":"","size":17.5342465753425},"xaxis":{"domain":[0,1],"type":"linear","autorange":false,"tickmode":"array","range":[1490879520000,1493635680000],"ticktext":["04-03","04-10","04-17","04-24","05-01"],"tickvals":[1491177600000,1491782400000,1492387200000,1492992000000,1493596800000],"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":9.9626400996264},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":"","titlefont":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"type":"linear","autorange":false,"tickmode":"array","range":[-1.85,104.85],"ticktext":["0","25","50","75","100"],"tickvals":[2.22044604925031e-016,25,50,75,100],"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":9.9626400996264},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":"","titlefont":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895}},"hovermode":"closest"},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"modeBarButtonsToRemove":["sendDataToCloud"]},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":[]}</script><!--/html_preserve--><!--html_preserve--><div id="htmlwidget-34cf67fe460c96a05063" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-34cf67fe460c96a05063">{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30"],["2017-04-01","2017-04-02","2017-04-03","2017-04-04","2017-04-05","2017-04-06","2017-04-07","2017-04-08","2017-04-09","2017-04-10","2017-04-11","2017-04-12","2017-04-13","2017-04-14","2017-04-15","2017-04-16","2017-04-17","2017-04-18","2017-04-19","2017-04-20","2017-04-21","2017-04-22","2017-04-23","2017-04-24","2017-04-25","2017-04-26","2017-04-27","2017-04-28","2017-04-29","2017-04-30"],[29,33,50,47,51,56,37,32,48,45,50,46,50,57,47,56,88,100,97,79,82,87,84,74,84,97,76,75,70,73],[13,6,5,11,15,20,14,7,9,11,8,8,45,36,22,25,46,44,100,82,49,30,95,42,78,69,71,90,76,47],[30,34,36,57,69,100,85,56,84,78,76,63,72,80,54,64,100,69,71,58,47,48,75,70,63,44,42,53,38,44],[11,11,12,18,18,16,15,15,8,22,15,18,62,69,53,41,57,43,90,89,51,59,100,85,93,65,57,78,75,61],[25,16,16,44,69,31,22,18,20,26,19,17,35,38,23,24,37,33,50,51,62,53,100,58,77,82,73,74,69,72]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>date<\/th>\n      <th>문재인<\/th>\n      <th>심상정<\/th>\n      <th>안철수<\/th>\n      <th>유승민<\/th>\n      <th>홍준표<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[2,3,4,5,6]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"rowCallback":"function(row, data) {\nDTWidget.formatCurrency(this, row, data, 2, '', 0, 3, ',', '.', true);\nDTWidget.formatCurrency(this, row, data, 3, '', 0, 3, ',', '.', true);\nDTWidget.formatCurrency(this, row, data, 4, '', 0, 3, ',', '.', true);\nDTWidget.formatCurrency(this, row, data, 5, '', 0, 3, ',', '.', true);\nDTWidget.formatCurrency(this, row, data, 6, '', 0, 3, ',', '.', true);\n}"}},"evals":["options.rowCallback"],"jsHooks":[]}</script><!--/html_preserve-->



~~~{.r}
# 0. 환경설정 --------------------------------------------------
# devtools::install_github("PMassicotte/gtrendsR")
library(lubridate)
library(plotly)
library(gtrendsR)
library(tidyverse)
library(extrafont)
loadfonts()
par(family = "NanumBarunGothic")

# 1. 단일 검색어 추세 --------------------------------------------------
## 1.1. 데이터 가져오기
moon_trend <- gtrends("문재인", time="2017-04-01 2017-05-01")
hong_trend <- gtrends("홍준표", time="2017-04-01 2017-05-01")
ahn_trend  <- gtrends("안철수", time="2017-04-01 2017-05-01")
yoo_trend  <- gtrends("유승민", time="2017-04-01 2017-05-01")
sim_trend  <- gtrends("심상정", time="2017-04-01 2017-05-01")


# 2. 데이터 정제 --------------------------------------------------


trend_df <- moon_trend$interest_over_time %>% 
  bind_rows(hong_trend$interest_over_time) %>% 
  bind_rows(ahn_trend$interest_over_time) %>% 
  bind_rows(yoo_trend$interest_over_time) %>% 
  bind_rows(sim_trend$interest_over_time)

trend_df <- trend_df %>% mutate(date = ymd(date))

# 3. 데이터 시각화 --------------------------------------------------------
## 3.1. 추세 --------------------------------------------------------------
gtrend_g <- ggplot(trend_df,aes(x=date, y=hits, color=keyword)) +
  geom_line() +
  scale_x_date(date_labels="%m-%d") +
  theme_minimal() +
  theme(legend.position="none", 
        plot.caption=element_text(hjust=0,size=8),
        plot.subtitle=element_text(face="italic"),
        axis.text=element_text(size=7.5))+
  labs(x="",y="",title="후보별 구글 뉴스검색 추세",
       caption="\n 데이터출처: 구글, 구글 트렌드 도구(https://github.com/PMassicotte/gtrendsR)",
       subtitle="") +
  scale_colour_manual(name="",
                      values=c(문재인="#065ce8", 
                                  홍준표="#ff0000",
                                  안철수="#07f91f",
                                  유승민="#00faff",
                                  심상정="#f2ee09")) +
  geom_vline(xintercept=as.numeric(ymd("2017-04-19")), linetype=4, color="darkgrey", size=0.5) +
  geom_vline(xintercept=as.numeric(ymd("2017-04-23")), linetype=4, color="darkgrey", size=0.5) +
  geom_vline(xintercept=as.numeric(ymd("2017-04-25")), linetype=4, color="darkgrey", size=0.5) +
  geom_vline(xintercept=as.numeric(ymd("2017-04-28")), linetype=4, color="darkgrey", size=0.5) +
  annotate(geom="text",x=as.Date("2017-04-19"), y=3,label="KBS",fontface="bold", size=3) +
  annotate(geom="text",x=as.Date("2017-04-23"), y=3,label="1차",fontface="bold", size=3) +
  annotate(geom="text",x=as.Date("2017-04-25"), y=3,label="JTBC",fontface="bold", size=3) +
  annotate(geom="text",x=as.Date("2017-04-28"), y=3,label="2차",fontface="bold", size=3)
~~~
